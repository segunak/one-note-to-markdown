<Window x:Class="OneNoteMarkdownExporter.LintConfigWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Configure Markdown Linting Rules" 
        Height="520" Width="580"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        ShowInTaskbar="False">
    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Grid.Row="0" Text="Select which Markdown formatting rules to apply:" 
                   FontWeight="SemiBold" FontSize="14" Margin="0,0,0,10"/>

        <!-- Preset buttons -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,15">
            <Button Content="Enable All" Click="EnableAll_Click" Padding="12,6" Margin="0,0,10,0"/>
            <Button Content="Disable All" Click="DisableAll_Click" Padding="12,6" Margin="0,0,10,0"/>
            <Button Content="Minimal (Whitespace Only)" Click="Minimal_Click" Padding="12,6"/>
        </StackPanel>

        <!-- Rules list -->
        <Border Grid.Row="2" BorderBrush="#CCCCCC" BorderThickness="1" CornerRadius="4">
            <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="5">
                <ItemsControl x:Name="RulesListBox">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Border BorderBrush="#E8E8E8" BorderThickness="0,0,0,1" Padding="8,10">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <CheckBox Grid.Column="0" 
                                              IsChecked="{Binding IsEnabled, Mode=TwoWay}" 
                                              VerticalAlignment="Top"
                                              Margin="0,2,12,0"/>
                                    <StackPanel Grid.Column="1">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="{Binding Rule.Id}" 
                                                       FontWeight="Bold" 
                                                       Foreground="#0066CC"
                                                       FontFamily="Consolas"
                                                       Margin="0,0,10,0"/>
                                            <TextBlock Text="{Binding Rule.Name}" 
                                                       FontWeight="SemiBold"/>
                                            <Border Background="#F0F0F0" CornerRadius="3" Padding="6,2" Margin="10,0,0,0">
                                                <TextBlock Text="{Binding Rule.Category}" 
                                                           Foreground="#666666"
                                                           FontSize="11"/>
                                            </Border>
                                        </StackPanel>
                                        <TextBlock Text="{Binding Rule.Description}" 
                                                   Foreground="#555555"
                                                   TextWrapping="Wrap"
                                                   Margin="0,4,0,0"/>
                                    </StackPanel>
                                </Grid>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>
        </Border>

        <!-- Info text -->
        <TextBlock Grid.Row="3" 
                   Text="These rules help ensure clean, consistent Markdown formatting. Rule IDs match the markdownlint standard." 
                   Foreground="#666666" 
                   TextWrapping="Wrap"
                   FontSize="11"
                   Margin="0,12,0,12"/>

        <!-- Buttons -->
        <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Content="Cancel" Width="90" Padding="5,8" Margin="0,0,10,0" Click="Cancel_Click"/>
            <Button Content="Save" Width="90" Padding="5,8" Click="Save_Click" FontWeight="Bold"/>
        </StackPanel>
    </Grid>
</Window>
